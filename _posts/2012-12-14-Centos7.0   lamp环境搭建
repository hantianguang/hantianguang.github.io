Centos7.0   lamp环境搭建
 
CentOS 7.0默认使用的是firewall作为防火墙。
1、关闭firewall：
systemctl stop firewalld.service #停止firewall
systemctl disable firewalld.service #禁止firewall开机启动
2、关闭SELINUX
vi /etc/selinux/config
#SELINUX=enforcing #注释掉         
SELINUX=disabled #增加
:wq! #保存退出
setenforce 0 #使配置立即生效
3.安装apache
yum install httpd #根据提示，输入Y安装即可成功安装
systemctl start httpd.service #启动apache
systemctl stop httpd.service #停止apache
systemctl restart httpd.service #重启apache
systemctl enable httpd.service #设置apache开机启动
 
4.安装mariadb（MySQL）
yum install mariadb mariadb-server #询问是否要安装，输入Y即可自动安装,直到安装完成
systemctl start mariadb.service #启动MariaDB
systemctl stop mariadb.service #停止MariaDB
systemctl restart mariadb.service #重启MariaDB
systemctl enable mariadb.service #设置开机启动
修改mysql密码：set password for 'root'@'localhost'=password('root');
mysql授权远程连接（navicat等）： grant all on *.* to root identified by 'root';
 
5、安装PHP以及组件，使PHP支持 MariaDB(mysql)
yum install php php-mysql php-gd libjpeg* php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-bcmath php-mhash
 
 
 
#php5.6安装
yum install php56w.x86_64 php56w-cli.x86_64 php56w-common.x86_64 php56w-gd.x86_64 php56w-ldap.x86_64 php56w-mbstring.x86_64 php56w-mcrypt.x86_64 php56w-mysql.x86_64 php56w-pdo.x86_64
 
#这里选择以上安装包进行安装，根据提示输入Y回车
systemctl restart mariadb.service #重启MariaDB
systemctl restart httpd.service #重启apache
 
 
 
 
 
lnmp环境搭建
 
1.安装nginx
yum install yum-priorities -y   //源优先级
wget http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm
rpm -ivhnginx-release-centos-7-0.el7.ngx.noarch.rpm
yum install nginx
 
先关闭apache
systemctl start nginx.service #启动nginx
systemctl stop nginx.service #停止
systemctl restart nginx.service #重启
systemctl enable nginx.service #设置开机启动

2.更改nginx端口号（根据自己需求）
cd /etc/nginx/conf.d/
vim default.conf
把listen 80改成listen 81
systemctl restart nginx.service #重启nginx
3.访问http://ip:81即可看到nginx首页
4.下一步安装php-fpm
yum install php-fpm
systemctl start php-fpm.service #启动php-fpm
systemctl enable php-fpm.service #设置开机启动

5.更改nginx配置文件识别php
 vi /etc/nginx/conf.d/default.conf，把之前的#给去掉就可以了，顺手改一下fastcgi_param
   location ~ \.php$ {
       root           html;
       fastcgi_pass   127.0.0.1:9000;
       fastcgi_index  index.php;
       fastcgi_param SCRIPT_FILENAME /usr/share/nginx/html/$fastcgi_script_name;
       include        fastcgi_params;
    }
 
6.
在 /usr/share/nginx/html中新建一个test.php  <?php echo 123;?>
访问http://ip:81/test.php即可看到nginx中的php页面
 
 
如何lnmp环境中配置虚拟主机？
 
 
10.配置php
//编辑文件php.ini，在文件末尾添加cgi.fix_pathinfo= 1
[root@CentOS ~]# vi /etc/php.ini
11.重启nginx php-fpm
[root@CentOS ~]# service nginx restart
[root@CentOS ~]# service php-fpm restart
